{"ast":null,"code":"import requestWithCredentials from \"./axios/requestWithCredentials\";\n\n// 로그인(토큰), 회원가입 등 API 요청 처리\n\n// 토큰 페어 요청 : 로그인과는 다른 API 사용\nexport async function requestTokenPair() {\n  try {\n    const res = await requestWithCredentials.post('/auth/reissue');\n    return {\n      'nickname': res.data.nickname,\n      'username': res.data.accessToken.username,\n      'accessToken': res.data.accessToken.token\n    };\n  } catch (error) {\n    if (error.response) {\n      // 서버로부터 응답은 받았지만, 토큰 재발급이 실패한 경우\n      // 재로그인을 유도해야 함\n      console.log(error.response);\n    } else if (error.request) {\n      // 서버로부터 응답이 오지 않을 경우\n      console.log(error.request);\n    } else {\n      // 다른 에러 발생 시\n      console.log(error);\n    }\n    return null;\n  }\n}\n\n// 로그인\nexport async function login(username, password) {\n  try {\n    // 로그인 요청\n    const res = await requestWithCredentials.post('/auth/login', {\n      'username': username,\n      'password': password\n    });\n    return {\n      'nickname': res.data.nickname,\n      'username': res.data.accessToken.username,\n      'accessToken': res.data.accessToken.token\n    };\n  } catch (error) {\n    if (error.response) {\n      // 서버로부터 응답은 받았지만, 로그인이 실패한 경우\n      // HTTP 응답 코드에 따라 분기할 것인지는 나중에 선택하자\n      console.log(error.response);\n    } else if (error.request) {\n      // 서버로부터 응답이 오지 않을 경우\n      console.log(error.request);\n    } else {\n      // 다른 에러 발생 시\n      console.log(error);\n    }\n    return null;\n  }\n}\nexport async function logout() {\n  try {\n    let res = await requestWithCredentials.post('/auth/logout');\n    console.log(res.data);\n  } catch (error) {\n    if (error.request) console.log('서버로부터 요청이 오지 않음');\n  }\n}\n\n// 회원가입 --> 일단 임시로 짜놓음\nexport async function signup(username, password, passwordConfirm, nickname, email) {\n  // 기입 정보 체크 -> 기입 정보가 올바르지 않다면 요청 보내지 않음\n  // 회원가입 요청\n  // 요청 성공/실패 여부 리턴\n\n  try {\n    // 로그인 요청\n    const res = await request.post('/auth/signup', {\n      'username': username,\n      'password': password,\n      'passwordConfirm': password,\n      'nickname': nickname,\n      'email': email\n    });\n    return true;\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n}","map":{"version":3,"names":["requestWithCredentials","requestTokenPair","res","post","data","nickname","accessToken","username","token","error","response","console","log","request","login","password","logout","signup","passwordConfirm","email"],"sources":["/home/hyogun/바탕화면/dumbo/frontend/src/api/auth.js"],"sourcesContent":["import requestWithCredentials from \"./axios/requestWithCredentials\";\n\n// 로그인(토큰), 회원가입 등 API 요청 처리\n\n// 토큰 페어 요청 : 로그인과는 다른 API 사용\nexport async function requestTokenPair()\n{\n    try\n    {\n        const res = await requestWithCredentials.post(\n            '/auth/reissue'\n        );\n        return { 'nickname' : res.data.nickname, 'username' : res.data.accessToken.username, 'accessToken' : res.data.accessToken.token };\n    }\n    catch (error)\n    {\n        if (error.response)\n        {\n            // 서버로부터 응답은 받았지만, 토큰 재발급이 실패한 경우\n            // 재로그인을 유도해야 함\n            console.log(error.response);\n        }\n        else if (error.request)\n        {\n            // 서버로부터 응답이 오지 않을 경우\n            console.log(error.request);\n        }\n        else\n        {\n            // 다른 에러 발생 시\n            console.log(error);\n        }\n        return null;\n    }\n}\n\n// 로그인\nexport async function login(username, password)\n{\n    try\n    {\n        // 로그인 요청\n        const res = await requestWithCredentials.post(\n            '/auth/login',\n            { 'username' : username, 'password' : password}\n        );\n        return { 'nickname' : res.data.nickname, 'username' : res.data.accessToken.username, 'accessToken' : res.data.accessToken.token };\n    }\n    catch (error)\n    {\n        if (error.response)\n        {\n            // 서버로부터 응답은 받았지만, 로그인이 실패한 경우\n            // HTTP 응답 코드에 따라 분기할 것인지는 나중에 선택하자\n            console.log(error.response);\n        }\n        else if (error.request)\n        {\n            // 서버로부터 응답이 오지 않을 경우\n            console.log(error.request);\n        }\n        else\n        {\n            // 다른 에러 발생 시\n            console.log(error);\n        }\n        return null;\n    }\n}\n\nexport async function logout()\n{\n    try{ let res = await requestWithCredentials.post('/auth/logout'); console.log(res.data); }\n    catch (error) { if (error.request) console.log('서버로부터 요청이 오지 않음'); }\n}\n\n// 회원가입 --> 일단 임시로 짜놓음\nexport async function signup(username, password, passwordConfirm, nickname, email)\n{\n    // 기입 정보 체크 -> 기입 정보가 올바르지 않다면 요청 보내지 않음\n    // 회원가입 요청\n    // 요청 성공/실패 여부 리턴\n    \n    try\n    {\n        // 로그인 요청\n        const res = await request.post(\n            '/auth/signup',\n            { 'username' : username, 'password' : password, 'passwordConfirm' : password, 'nickname' : nickname, 'email' : email }\n        );\n        return true;\n    } catch (error)\n    {\n        console.log(error);\n        return false;\n    }\n}\n"],"mappings":"AAAA,OAAOA,sBAAsB,MAAM,gCAAgC;;AAEnE;;AAEA;AACA,OAAO,eAAeC,gBAAgBA,CAAA,EACtC;EACI,IACA;IACI,MAAMC,GAAG,GAAG,MAAMF,sBAAsB,CAACG,IAAI,CACzC,eACJ,CAAC;IACD,OAAO;MAAE,UAAU,EAAGD,GAAG,CAACE,IAAI,CAACC,QAAQ;MAAE,UAAU,EAAGH,GAAG,CAACE,IAAI,CAACE,WAAW,CAACC,QAAQ;MAAE,aAAa,EAAGL,GAAG,CAACE,IAAI,CAACE,WAAW,CAACE;IAAM,CAAC;EACrI,CAAC,CACD,OAAOC,KAAK,EACZ;IACI,IAAIA,KAAK,CAACC,QAAQ,EAClB;MACI;MACA;MACAC,OAAO,CAACC,GAAG,CAACH,KAAK,CAACC,QAAQ,CAAC;IAC/B,CAAC,MACI,IAAID,KAAK,CAACI,OAAO,EACtB;MACI;MACAF,OAAO,CAACC,GAAG,CAACH,KAAK,CAACI,OAAO,CAAC;IAC9B,CAAC,MAED;MACI;MACAF,OAAO,CAACC,GAAG,CAACH,KAAK,CAAC;IACtB;IACA,OAAO,IAAI;EACf;AACJ;;AAEA;AACA,OAAO,eAAeK,KAAKA,CAACP,QAAQ,EAAEQ,QAAQ,EAC9C;EACI,IACA;IACI;IACA,MAAMb,GAAG,GAAG,MAAMF,sBAAsB,CAACG,IAAI,CACzC,aAAa,EACb;MAAE,UAAU,EAAGI,QAAQ;MAAE,UAAU,EAAGQ;IAAQ,CAClD,CAAC;IACD,OAAO;MAAE,UAAU,EAAGb,GAAG,CAACE,IAAI,CAACC,QAAQ;MAAE,UAAU,EAAGH,GAAG,CAACE,IAAI,CAACE,WAAW,CAACC,QAAQ;MAAE,aAAa,EAAGL,GAAG,CAACE,IAAI,CAACE,WAAW,CAACE;IAAM,CAAC;EACrI,CAAC,CACD,OAAOC,KAAK,EACZ;IACI,IAAIA,KAAK,CAACC,QAAQ,EAClB;MACI;MACA;MACAC,OAAO,CAACC,GAAG,CAACH,KAAK,CAACC,QAAQ,CAAC;IAC/B,CAAC,MACI,IAAID,KAAK,CAACI,OAAO,EACtB;MACI;MACAF,OAAO,CAACC,GAAG,CAACH,KAAK,CAACI,OAAO,CAAC;IAC9B,CAAC,MAED;MACI;MACAF,OAAO,CAACC,GAAG,CAACH,KAAK,CAAC;IACtB;IACA,OAAO,IAAI;EACf;AACJ;AAEA,OAAO,eAAeO,MAAMA,CAAA,EAC5B;EACI,IAAG;IAAE,IAAId,GAAG,GAAG,MAAMF,sBAAsB,CAACG,IAAI,CAAC,cAAc,CAAC;IAAEQ,OAAO,CAACC,GAAG,CAACV,GAAG,CAACE,IAAI,CAAC;EAAE,CAAC,CAC1F,OAAOK,KAAK,EAAE;IAAE,IAAIA,KAAK,CAACI,OAAO,EAAEF,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;EAAE;AACvE;;AAEA;AACA,OAAO,eAAeK,MAAMA,CAACV,QAAQ,EAAEQ,QAAQ,EAAEG,eAAe,EAAEb,QAAQ,EAAEc,KAAK,EACjF;EACI;EACA;EACA;;EAEA,IACA;IACI;IACA,MAAMjB,GAAG,GAAG,MAAMW,OAAO,CAACV,IAAI,CAC1B,cAAc,EACd;MAAE,UAAU,EAAGI,QAAQ;MAAE,UAAU,EAAGQ,QAAQ;MAAE,iBAAiB,EAAGA,QAAQ;MAAE,UAAU,EAAGV,QAAQ;MAAE,OAAO,EAAGc;IAAM,CACzH,CAAC;IACD,OAAO,IAAI;EACf,CAAC,CAAC,OAAOV,KAAK,EACd;IACIE,OAAO,CAACC,GAAG,CAACH,KAAK,CAAC;IAClB,OAAO,KAAK;EAChB;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}